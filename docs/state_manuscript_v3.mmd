stateDiagram-v2
    state "投稿" as submitted
    state "ME技术审查" as me_precheck
    state "退回修改" as returned
    state "已分配AE" as ae_assigned
    state "外审中" as under_review
    state "待决策" as decision
    state "小修" as revision_minor
    state "大修" as revision_major
    state "小修重提" as resubmitted_minor
    state "大修重提" as resubmitted_major
    state "接收" as approved
    state "拒稿" as rejected
    state "校对完成" as proof_ready
    state "已支付" as paid
    state "已发布" as published

    [*] --> submitted
    submitted --> me_precheck
    me_precheck --> returned: 技术不通过
    returned --> submitted: 重投

    me_precheck --> ae_assigned: 通过
    ae_assigned --> under_review
    under_review --> decision: 报告达标（可选 First Decision）
    under_review --> revision_minor: 可直接送小修（跳过 First）
    under_review --> revision_major: 可直接送大修（跳过 First）

    decision --> revision_minor: 小修
    revision_minor --> resubmitted_minor
    resubmitted_minor --> decision_done: Final Decision 入口

    decision --> revision_major: 大修
    revision_major --> resubmitted_major
    resubmitted_major --> under_review: 必须二审
    resubmitted_major --> decision_done: 二审已齐可入 Final

    decision_done --> approved: Final 接收
    decision_done --> rejected: Final 拒稿
    decision_done --> revision_minor: Final 小修
    decision_done --> revision_major: Final 大修

    approved --> proof_ready: 校对完成
    approved --> paid: 财务确认
    proof_ready --> published: 与 Paid 同时满足
    paid --> published: 与 Proof 同时满足

    rejected --> [*]
    published --> [*]
